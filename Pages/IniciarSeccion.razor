@page "/"
@inject Ilogin login
@inject IJSRuntime Js
@inject NavigationManager NavigationManager





<form>
    <div class="form-group">
        <label for="exampleInputEmail1">User</label>
        <input type="text" @bind-value="usuario" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter your User">
    </div>
    <div class="form-group">
        <label for="exampleInputPassword1">Password</label>
        <input type="password" @bind-value="contrasena" class="form-control" id="exampleInputPassword1" placeholder="Password">
    </div>

    <button type="submit" @onclick="BuscarDatos" class="btn btn-primary">Entrar</button>
</form>





@code {

    LoginDb objlo = new LoginDb();
    List<LoginDb> objlogin = new List<LoginDb>();

    string usuario = "";
    string contrasena = "";


    bool PasswordVisibility;
    InputType PasswordInput = InputType.Password;
    string PasswordInputIcon = Icons.Material.Filled.VisibilityOff;


    public void BuscarDatos()
    {
        objlo.Contrasena = contrasena;
        objlo.Usuario = usuario;

        var buscar = login.buscar(objlo);
        if (buscar == false)
        {
            var msj = Js.InvokeAsync<object>("msjAlert", "Usuario incorecto", "error");
        }

        else
        {
            NavigationManager.NavigateTo("/Index");
        }

    }


    }
}



